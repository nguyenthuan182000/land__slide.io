(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{659:function(t,e,n){"use strict";var o=n(9),r=(n(48),n(65),n(105)),l={computed:{shortcuts:function(){var t=this;return r.b.map((function(e){return{text:t.$t(e.text),onClick:e.onClick}}))}},methods:{onAction:function(t,data,e){var n=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var r,l,c;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t&&data&&e){o.next=2;break}return o.abrupt("return");case 2:return n.loading=!0,o.prev=3,o.next=6,n.$cheetahAxios[t](data);case 6:n.$toast.success(n.$t("messages.information.action",{name:e})),n.$emit("modify"),o.next=15;break;case 10:o.prev=10,o.t0=o.catch(3),console.error(o.t0),(c=(null===o.t0||void 0===o.t0||null===(r=o.t0.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.messages)||"")?n.$toast.error(c):n.$toast.error(n.$t("messages.error.failed_to_action",{name:e}));case 15:return o.prev=15,n.loading=!1,o.finish(15);case 18:case"end":return o.stop()}}),o,null,[[3,10,15,18]])})))()}}};e.a=l},660:function(t,e,n){"use strict";var o=n(9),r=(n(48),n(434),n(14),{props:{id:{type:Number,default:0}},data:function(){return{loading:!1}},methods:{getDetail:function(t){var e=this;if(this.loading=!0,t){var n=this.model.detailAction;this.$cheetahAxios[n]({id:t}).then((function(t){e.setModel(t.landslide)})).catch((function(t){console.error(t),e.$toast.error(e.$t("messages.error.failed_to_get",{name:e.modelType}))})).finally((function(){e.loading=!1}))}else this.setModel(),this.loading=!1},onSubmit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o,r,l,c,d,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n=t.model.getFormData(),o=t.id?t.model.updateAction:t.model.createAction,console.log("id",t.id),console.log("action",o),e.next=8,t.$cheetahAxios[o](n);case 8:t.$toast.success(t.$t(t.id?"messages.information.updated":"messages.information.created",{name:t.modelType})),t.$emit("modify"),e.next=19;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),m=(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.errors)||null,f=(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.messages)||"",Array.isArray(m.email)&&m.email.length&&t.$toast.error(m.email[0]),f?t.$toast.error(f):t.$toast.error(t.$t(t.id?"messages.error.failed_to_update":"messages.error.failed_to_create",{name:t.modelType}));case 19:return e.prev=19,t.loading=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,12,19,22]])})))()}}});e.a=r},661:function(t,e,n){"use strict";n(14),n(86);var o=300,r=function(){return(new Date).getMilliseconds()},l={data:function(){return{loading:!1}},methods:{doAsync:function(t){var e=this;if(!this.loading){this.loading=!0;for(var n=r(),l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];return t.apply(void 0,c).then((function(){for(var t=arguments.length,l=new Array(t),c=0;c<t;c++)l[c]=arguments[c];var d=o-(r()-n);return new Promise((function(t){setTimeout((function(){e.loading=!1,t.apply(void 0,l)}),d>0?d:0)}))})).catch((function(){for(var t=arguments.length,l=new Array(t),c=0;c<t;c++)l[c]=arguments[c];var d=o-(r()-n);return new Promise((function(t,n){setTimeout((function(){e.loading=!1,n(l)}),d>0?d:0)}))}))}}}};e.a=l},662:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var o=n(68),r=n(69),l=(n(195),n(65),n(66)),c=(n(14),n(30),n(19),n(67),n(433)("./".concat("production"))),d=function(){function t(){Object(o.a)(this,t)}return Object(r.a)(t,null,[{key:"getObjectImage",value:function(path){if(path&&"null"!==path&&null!==path){var t="";try{t+=c.cheetahAxios.baseImageURL.replace("api","Uploads")+"/"+path}catch(t){console.log(t)}return{name:path,type:"image/*",ext:"*",file:new File([t],t,{type:"image/jpg/png"}),url:t}}return null}}]),t}(),m=function(){function t(e){Object(o.a)(this,t),this.id=Object(l.get)(e,"_id",""),this.coordinates=Object(l.get)(e,"coordinates",[]).map((function(t,e){return"Tọa độ "+(0===e?"x":"y")+":"+t})).join(", "),this.type=Object(l.get)(e,"type",""),this.materialType=Object(l.get)(e,"materialType",""),this.hillPosition=Object(l.get)(e,"hillPosition",""),this.water=Object(l.get)(e,"water",""),this.vegetation=Object(l.get)(e,"vegetation",""),this.monitoring=Object(l.get)(e,"monitoring",""),this.monitoringList=Object(l.get)(e,"monitoringList",[]).join(","),this.mitigation=Object(l.get)(e,"mitigation",""),this.mitigationList=Object(l.get)(e,"mitigationList",[]).join(","),this.damages=Object(l.get)(e,"damages",""),this.damagesList=Object(l.get)(e,"damagesList",[]).join(","),this.notes=Object(l.get)(e,"notes",""),this.image=d.getObjectImage(Object(l.get)(e,"imageUrl",this.image)),this.createAction="createLandSlide",this.detailAction="getLandSlide",this.updateAction="updateLandSlide"}return Object(r.a)(t,[{key:"getFormData",value:function(){var t={type:this.type,materialType:this.materialType,hillPosition:this.hillPosition,water:this.water,vegetation:this.vegetation,monitoring:this.monitoring,monitoringList:"["+this.monitoringList+"]",mitigation:this.mitigation,mitigationList:"["+this.mitigationList+"]",damages:this.damages,damagesList:"["+this.damagesList+"]",notes:this.notes};0===this.id.length&&(t.coordinates="["+this.coordinates+"]"),this.id&&(t.id=this.id);try{t.image=this.image.file}catch(t){console.log("error")}return t}}]),t}()},667:function(t,e,n){"use strict";var o=n(1),r=n(663),l=n.n(r),c=n(664),d=n.n(c),m=n(662),f=n(660),h=n(433)("./".concat("production")).cheetahAxios.baseImageURL;o.default.use(l.a);var v={component:{VueFileAgentStyles:d.a},mixins:[f.a],data:function(){return{model:new m.a}},computed:{baseIMG:function(){return h}},watch:{id:function(t){this.model=new m.a,t&&this.getDetail(t)}},mounted:function(){this.getDetail(this.id)},methods:{setModel:function(data){this.model=new m.a(data)}}},y=n(10),component=Object(y.a)(v,(function(){var t=this,e=t._self._c;return e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(n){var o=n.handleSubmit;return[e("b-form",{staticClass:"d-flex flex-column h-100",on:{submit:function(e){return e.preventDefault(),o(t.onSubmit)}}},[e("div",{staticClass:"flex-fill p-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-6"},[e("b-form-group",{staticClass:"has-required-sign label-md-right",attrs:{label:t.$t("land_slide.coordinates"),"label-for":"coordinates","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"map-marker-alt"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"coordinates",placeholder:"".concat(t.$t("land_slide.coordinates"))},model:{value:t.model.coordinates,callback:function(e){t.$set(t.model,"coordinates",e)},expression:"model.coordinates"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("b-form-group",{staticClass:"has-required-sign label-md-right",attrs:{label:t.$t("land_slide.type"),"label-for":"type","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"book-open"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"type",placeholder:"".concat(t.$t("land_slide.type"))},model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("b-form-group",{staticClass:"has-required-sign label-md-right",attrs:{label:t.$t("land_slide.materialType"),"label-for":"materialType","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"burn"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"materialType",placeholder:"".concat(t.$t("land_slide.materialType"))},model:{value:t.model.materialType,callback:function(e){t.$set(t.model,"materialType",e)},expression:"model.materialType"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("b-form-group",{staticClass:"has-required-sign label-md-right",attrs:{label:t.$t("land_slide.water"),"label-for":"water","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"water"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"water",placeholder:"".concat(t.$t("land_slide.water"))},model:{value:t.model.water,callback:function(e){t.$set(t.model,"water",e)},expression:"model.water"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("b-form-group",{staticClass:"label-md-right",attrs:{label:t.$t("land_slide.vegetation"),"label-for":"vegetation","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"cannabis"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"vegetation",placeholder:"".concat(t.$t("land_slide.vegetation"))},model:{value:t.model.vegetation,callback:function(e){t.$set(t.model,"vegetation",e)},expression:"model.vegetation"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("b-form-group",{staticClass:"label-md-right",attrs:{label:t.$t("land_slide.monitoring"),"label-for":"monitoring","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"eye"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"monitoring",placeholder:"".concat(t.$t("land_slide.monitoring"))},model:{value:t.model.monitoring,callback:function(e){t.$set(t.model,"monitoring",e)},expression:"model.monitoring"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("b-form-group",{staticClass:"label-md-right",attrs:{label:t.$t("land_slide.notes"),"label-for":"notes","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"book"}})],1),t._v(" "),e("b-form-textarea",{attrs:{id:"notes",placeholder:"".concat(t.$t("land_slide.notes")),rows:"3","max-rows":"6"},model:{value:t.model.notes,callback:function(e){t.$set(t.model,"notes",e)},expression:"model.notes"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-12"},[e("b-form-group",{class:"label-md-right ".concat(t.id?"":"has-required-sign"),attrs:{"label-for":"img"}},[e("div",[e("VueFileAgent",{ref:"file",attrs:{accept:"image/*",deletable:!0,meta:!0},model:{value:t.model.image,callback:function(e){t.$set(t.model,"image",e)},expression:"model.image"}})],1)])],1)])]),t._v(" "),e("footer",{staticClass:"card-footer bg-white text-center"},[e("b-button",{staticClass:"min-w-100px mx-1",attrs:{type:"submit",variant:"primary",title:"Add",disabled:t.loading}},[e("font-awesome-icon",{attrs:{icon:"save"}}),t._v("\n        "+t._s(t.$t("common.save"))+"\n      ")],1),t._v(" "),e("b-button",{staticClass:"min-w-100px mx-1",attrs:{variant:"outline-primary",title:"Cancel",disabled:t.loading},on:{click:function(e){return t.$emit("cancel")}}},[e("font-awesome-icon",{attrs:{icon:"arrow-left"}}),t._v("\n        "+t._s(t.$t("common.cancel"))+"\n      ")],1)],1)])]}}])})}),[],!1,null,null,null);e.a=component.exports},674:function(t,e,n){"use strict";var o=n(3),r=n(106).find,l=n(196),c="find",d=!0;c in[]&&Array(1).find((function(){d=!1})),o({target:"Array",proto:!0,forced:d},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),l(c)},689:function(t,e,n){"use strict";n.r(e);n(25),n(36),n(14),n(58),n(26),n(59);var o=n(9),r=n(12),l=(n(48),n(37),n(30),n(674),n(19),n(67),n(65),n(0)),c=n.n(l);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f=[{key:"user",label:"land_slide.user",sortable:!0},{key:"coordinates",label:"land_slide.coordinates",sortable:!0},{key:"updatedAt",label:"Ngày thu thập",sortable:!0},{key:"type",label:"land_slide.type",sortable:!0},{key:"materialType",label:"land_slide.materialType",sortable:!0},{key:"water",label:"land_slide.water",sortable:!0},{key:"vegetation",label:"land_slide.vegetation",sortable:!0},{key:"action",label:"common.action",class:"w-100px text-nowrap text-center"}],h=n(433)("./".concat("production")).cheetahAxios.baseImageURL,v={props:{data:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{}},computed:{FIELDS:function(){var t=this;return f.map((function(e){return m(m({},e),{},{label:t.$t(e.label)})}))},baseIMG:function(){return h}},methods:{onShowDetail:function(t){this.$emit("show-detail",t)},goToDetail:function(t){t&&this.$router.push({path:"/land-slide/".concat(t)})},onDelete:function(t){var e=this,n=this.$createElement;null!=t&&t._id&&this.$bvModal.msgBoxConfirm(n("span",["Are you sure you want to delete ",n("strong",[t.name]),"?"]),{title:n("span",[n("font-awesome-icon",{attrs:{icon:"info-circle"},class:"text-warning mr-2"}),"Warning"]),okTitle:n("span",[n("font-awesome-icon",{attrs:{icon:"trash-alt"},class:"mr-1"}),"Delete"]),okVariant:"danger",cancelTitle:"Cancel",hideHeaderClose:!1,footerClass:"equa-footer-btn-width"}).then((function(n){n&&e.$emit("delete",t._id)}))},formatDateTime:function(t){return c()(t).format("YYYY-MM-DD HH:mm")}}},y=n(10),w=Object(y.a)(v,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"c-user-table"},[e("b-overlay",{staticClass:"cheetah-overlay",attrs:{show:t.loading},on:{"update:show":function(e){t.loading=e}}},[e("b-table",{attrs:{items:t.data,fields:t.FIELDS,responsive:"",striped:"",outlined:"",hover:""},scopedSlots:t._u([{key:"cell(name)",fn:function(n){return[e("a",{staticClass:"d-block text-decoration-none cursor-pointer",on:{click:function(){return t.goToDetail(n.item.id)}}},[t._v("\n          "+t._s(n.value)+"\n        ")])]}},{key:"cell(user)",fn:function(n){return[e("div",[t._v(" "+t._s(n.value.email.replace("@gmail.com","")))])]}},{key:"cell(coordinates)",fn:function(n){return[e("div",t._l(n.value,(function(n,o){return e("span",{key:o},[e("strong",[t._v(" Tọa độ "+t._s(0==o?"x":"y")+" :")]),t._v(" "),e("div",[t._v(t._s(n))])])})),0)]}},{key:"cell(updatedAt)",fn:function(n){return[e("div",[t._v("\n          "+t._s(t.formatDateTime(n.item.updatedAt))+"\n        ")])]}},{key:"cell(action)",fn:function(n){return[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-primary box-shadow-none over p-1 mx-1",attrs:{variant:"link",size:"sm",title:"Edit",disabled:t.loading},on:{click:function(e){return t.onShowDetail(n.item._id)}}},[e("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1),t._v(" "),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-primary box-shadow-none over p-1 mx-1",attrs:{variant:"link",size:"sm",title:"Edit",disabled:t.loading},on:{click:function(e){return t.goToDetail(n.item._id)}}},[e("font-awesome-icon",{attrs:{icon:"link"}})],1),t._v(" "),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-danger box-shadow-none over p-1 mx-1",attrs:{variant:"link",title:"Delete",disabled:t.loading},on:{click:function(e){return t.onDelete(n.item)}}},[e("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]}}])})],1)],1)}),[],!1,null,null,null).exports,O={components:{LandSlideCreateEditForm:n(667).a},props:{id:{type:String,default:""}},data:function(){return{visible:!1}},methods:{open:function(){this.visible=!0},hide:function(){this.visible=!1}}},_=Object(y.a)(O,(function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{size:"xl","hide-footer":"","body-class":"p-0"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("template",{slot:"modal-title"},[e("div",{staticClass:"text-primary"},[e("font-awesome-icon",{attrs:{icon:"".concat(t.id?"pencil-alt":"plus-circle")}}),t._v("\n      "+t._s(t.id?t.$t("land_slide.edit.edit_land_slide"):t.$t("land_slide.create.create_new_land_slide"))+"\n    ")],1)]),t._v(" "),e("land-slide-create-edit-form",{attrs:{id:t.id},on:{modify:function(e){t.hide(),t.$emit("modify")},cancel:function(e){return t.hide()}}})],2)}),[],!1,null,null,null).exports,j=n(659),x=n(661),C=(n(71),n(66)),$=n(141);function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function P(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var D=[$.b,$.a],S=D.concat().reverse(),A={data:function(){return{condition:{},isEncodedCondition:!1}},computed:{conditionQuery:function(){return this.isEncodedCondition?{condition:this.condition}:this.condition}},created:function(){this.getConditionParamsFromRoute()},methods:{getConditionParamsFromRoute:function(){this.$route.query.condition&&this.isEncodedCondition&&this.setCondition(this.decodeCondition(this.$route.query.condition)),this.$route.query.condition&&!this.isEncodedCondition&&this.setCondition(this.$route.query.condition)},encodeCondition:function(t){return Object(C.isObject)(t)?$.c.encode(t,D):null},decodeCondition:function(t){return $.c.decode(t,S)},setCondition:function(t){Object(C.isObject)(t)&&(this.condition=t,this.setConditionQueryToUrl())},setConditionQueryToUrl:function(){var t={};t=this.isEncodedCondition?P(P({},this.$route.query),{},{condition:this.encodeCondition(this.conditionQuery.condition)}):P(P({},this.$route.query),this.conditionQuery),JSON.stringify(t)!==JSON.stringify(this.$route.query)&&this.$router.replace({query:t}).catch((function(t){console.log(t)}))}}};function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var E={data:function(){return{resourceTypeName:null,loading:!1}},computed:{query:function(){var t=void 0!==this.additionalParams&&Object.keys(this.additionalParams)?this.additionalParams:{};return L(L(L({},this.paginationQuery),this.conditionQuery),t)}},methods:{refresh:function(){var t=this;this.doAsync(this.fetch).catch((function(e){console.error(e),t.$toast.error(t.$t("messages.error.failed_to_get",{name:t.resourceTypeName}))}))},onDelete:function(t){var e=this;t&&this.handleDelete(t).then((function(){e.$toast.success(e.$t("messages.information.deleted",{name:e.resourceTypeName})),e.refresh()})).catch((function(t){console.error(t),e.$toast.error(e.$t("messages.error.failed_to_delete",{name:e.resourceTypeName}))}))},onSearch:function(t){var e={};void 0!==this.defaultCondition&&Object.keys(this.defaultCondition).length&&(e=L(L({},e),this.defaultCondition)),void 0!==t&&Object.keys(t).length&&(e=L(L({},e),t)),this.setPageAndLimit(1,null),this.setCondition(e),this.refresh()},onPageChange:function(t){var e=t.page,n=t.limit;this.setPageAndLimit(e,n),this.refresh()},onPageSizeChange:function(t){this.setPageAndLimit(1,t),this.refresh()}}},R=n(194),M=n(193);function I(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function N(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var F={components:{LandSlideTable:w,LandSlideDetailModal:_},mixins:[j.a,x.a,A,E,R.a,M.a],data:function(){return{data:[],isSearchWhenMounted:!1,selectedId:null,defaultCondition:{}}},computed:{query:function(){return N({},this.conditionQuery)}},mounted:function(){var t=this;this.$watch((function(){return{isSearchWhenMounted:t.isSearchWhenMounted,urlParams:t.$route.query,refresh:t.refresh,onSearch:t.onSearch}}),(function(data){if(!data.isSearchWhenMounted&&"function"==typeof data.refresh&&"function"==typeof data.onSearch){var e=data.urlParams,n=data.refresh,o=data.onSearch,r=function(t,e,n){if(!(Array.isArray(e)&&e.length&&Array.isArray(n)&&n.length))return{};var o={};if(e.some((function(e){return e.value===+t.status}))&&(o.status=+t.status),t.name&&(o.name=t.name),t.email&&(o.email=t.email),t.role){var r=n.find((function(e){return e.code===+t.role}));r&&(o.role=r.code,o.currentRole=r)}return o}(e);delete r.currentRole,Object.keys(r).length?(t.defaultCondition=N({},r),o()):n(),t.isSearchWhenMounted=!0}})),this.fetch()},methods:{fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$cheetahAxios.getLandSlideList();case 2:return(data=e.sent)&&(t.data=data.landslides),e.abrupt("return",data);case 5:case"end":return e.stop()}}),e)})))()},onShowDetail:function(t){this.selectedId=t,this.$refs.refUserDetailModal.open()},handleDelete:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.$cheetahAxios.deleteLandSlide({landslideId:t});case 4:case"end":return n.stop()}}),n)})))()},onReload:function(){this.refresh()}}},U=Object(y.a)(F,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-user-list pt-3 pl-2rem pr-2rem pb-2rem"},[e("div",{staticClass:"cheetah-table-top-action"},[e("div",{staticClass:"box-right mb-2"},[e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn-only-icon mr-1",attrs:{variant:"primary",title:"Add",size:"sm",disabled:t.loading},on:{click:function(e){return t.onShowDetail(0)}}},[e("font-awesome-icon",{attrs:{icon:"plus"}})],1),t._v(" "),e("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn-only-icon mr-1",attrs:{variant:"outline-primary",title:"Reload",size:"sm",disabled:t.loading},on:{click:t.onReload}},[e("font-awesome-icon",{attrs:{icon:"redo-alt"}})],1)],1)]),t._v(" "),e("land-slide-table",{attrs:{data:t.data,loading:t.loading},on:{"show-detail":t.onShowDetail,delete:t.onDelete}}),t._v(" "),e("land-slide-detail-modal",{ref:"refUserDetailModal",attrs:{id:t.selectedId},on:{modify:t.refresh}})],1)}),[],!1,null,null,null);e.default=U.exports}}]);