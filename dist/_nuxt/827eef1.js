(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{660:function(t,e,o){"use strict";var l=o(9),n=(o(48),o(434),o(14),{props:{id:{type:Number,default:0}},data:function(){return{loading:!1}},methods:{getDetail:function(t){var e=this;if(this.loading=!0,t){var o=this.model.detailAction;this.$cheetahAxios[o]({id:t}).then((function(t){e.setModel(t.landslide)})).catch((function(t){console.error(t),e.$toast.error(e.$t("messages.error.failed_to_get",{name:e.modelType}))})).finally((function(){e.loading=!1}))}else this.setModel(),this.loading=!1},onSubmit:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var o,l,n,r,c,d,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,o=t.model.getFormData(),l=t.id?t.model.updateAction:t.model.createAction,console.log("id",t.id),console.log("action",l),e.next=8,t.$cheetahAxios[l](o);case 8:t.$toast.success(t.$t(t.id?"messages.information.updated":"messages.information.created",{name:t.modelType})),t.$emit("modify"),e.next=19;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),m=(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.errors)||null,f=(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.messages)||"",Array.isArray(m.email)&&m.email.length&&t.$toast.error(m.email[0]),f?t.$toast.error(f):t.$toast.error(t.$t(t.id?"messages.error.failed_to_update":"messages.error.failed_to_create",{name:t.modelType}));case 19:return e.prev=19,t.loading=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,12,19,22]])})))()}}});e.a=n},662:function(t,e,o){"use strict";o.d(e,"a",(function(){return m}));var l=o(68),n=o(69),r=(o(195),o(65),o(66)),c=(o(14),o(30),o(19),o(67),o(433)("./".concat("production"))),d=function(){function t(){Object(l.a)(this,t)}return Object(n.a)(t,null,[{key:"getObjectImage",value:function(path){if(path&&"null"!==path&&null!==path){var t="";try{t+=c.cheetahAxios.baseImageURL.replace("api","Uploads")+"/"+path}catch(t){console.log(t)}return{name:path,type:"image/*",ext:"*",file:new File([t],t,{type:"image/jpg/png"}),url:t}}return null}}]),t}(),m=function(){function t(e){Object(l.a)(this,t),this.id=Object(r.get)(e,"_id",""),this.coordinates=Object(r.get)(e,"coordinates",[]).map((function(t,e){return"Tọa độ "+(0===e?"x":"y")+":"+t})).join(", "),this.type=Object(r.get)(e,"type",""),this.materialType=Object(r.get)(e,"materialType",""),this.hillPosition=Object(r.get)(e,"hillPosition",""),this.water=Object(r.get)(e,"water",""),this.vegetation=Object(r.get)(e,"vegetation",""),this.monitoring=Object(r.get)(e,"monitoring",""),this.monitoringList=Object(r.get)(e,"monitoringList",[]).join(","),this.mitigation=Object(r.get)(e,"mitigation",""),this.mitigationList=Object(r.get)(e,"mitigationList",[]).join(","),this.damages=Object(r.get)(e,"damages",""),this.damagesList=Object(r.get)(e,"damagesList",[]).join(","),this.notes=Object(r.get)(e,"notes",""),this.image=d.getObjectImage(Object(r.get)(e,"imageUrl",this.image)),this.createAction="createLandSlide",this.detailAction="getLandSlide",this.updateAction="updateLandSlide"}return Object(n.a)(t,[{key:"getFormData",value:function(){var t={type:this.type,materialType:this.materialType,hillPosition:this.hillPosition,water:this.water,vegetation:this.vegetation,monitoring:this.monitoring,monitoringList:"["+this.monitoringList+"]",mitigation:this.mitigation,mitigationList:"["+this.mitigationList+"]",damages:this.damages,damagesList:"["+this.damagesList+"]",notes:this.notes};0===this.id.length&&(t.coordinates="["+this.coordinates+"]"),this.id&&(t.id=this.id);try{t.image=this.image.file}catch(t){console.log("error")}return t}}]),t}()},692:function(t,e,o){"use strict";o.r(e);var l=o(1),n=o(663),r=o.n(n),c=o(664),d=o.n(c),m=o(662),f=o(660),h=o(433)("./".concat("production")).cheetahAxios.baseImageURL;l.default.use(r.a);var v={component:{VueFileAgentStyles:d.a},mixins:[f.a],data:function(){return{model:new m.a}},computed:{baseIMG:function(){return h}},watch:{id:function(t){this.model=new m.a,t&&this.getDetail(t)}},mounted:function(){this.getDetail(this.id)},methods:{setModel:function(data){this.model=new m.a(data)}}},_=o(10),w={components:{LandSlideDetailForm:Object(_.a)(v,(function(){var t=this,e=t._self._c;return e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(o){var l=o.handleSubmit;return[e("b-form",{staticClass:"d-flex flex-column h-100",on:{submit:function(e){return e.preventDefault(),l(t.onSubmit)}}},[e("div",{staticClass:"flex-fill p-4"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-6"},[e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.coordinates"),"label-for":"coordinates","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"map-marker-alt"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"coordinates",placeholder:"".concat(t.$t("land_slide.coordinates"))},model:{value:t.model.coordinates,callback:function(e){t.$set(t.model,"coordinates",e)},expression:"model.coordinates"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.type"),"label-for":"type","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"book-open"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"type",placeholder:"".concat(t.$t("land_slide.type"))},model:{value:t.model.type,callback:function(e){t.$set(t.model,"type",e)},expression:"model.type"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.materialType"),"label-for":"materialType","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"burn"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"materialType",placeholder:"".concat(t.$t("land_slide.materialType"))},model:{value:t.model.materialType,callback:function(e){t.$set(t.model,"materialType",e)},expression:"model.materialType"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.hillPosition"),"label-for":"hillPosition","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"mountain"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"hillPosition",placeholder:"".concat(t.$t("land_slide.hillPosition"))},model:{value:t.model.hillPosition,callback:function(e){t.$set(t.model,"hillPosition",e)},expression:"model.hillPosition"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.water"),"label-for":"water","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"water"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"water",placeholder:"".concat(t.$t("land_slide.water"))},model:{value:t.model.water,callback:function(e){t.$set(t.model,"water",e)},expression:"model.water"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.vegetation"),"label-for":"vegetation","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"cannabis"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"vegetation",placeholder:"".concat(t.$t("land_slide.vegetation"))},model:{value:t.model.vegetation,callback:function(e){t.$set(t.model,"vegetation",e)},expression:"model.vegetation"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.monitoring"),"label-for":"monitoring","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"eye"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"monitoring",placeholder:"".concat(t.$t("land_slide.monitoring"))},model:{value:t.model.monitoring,callback:function(e){t.$set(t.model,"monitoring",e)},expression:"model.monitoring"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.monitoringList"),"label-for":"monitoringList","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"eye"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"monitoringList",placeholder:"".concat(t.$t("land_slide.monitoringList"))},model:{value:t.model.monitoringList,callback:function(e){t.$set(t.model,"monitoringList",e)},expression:"model.monitoringList"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.mitigation"),"label-for":"mitigation","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"long-arrow-alt-down"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"mitigation",placeholder:"".concat(t.$t("land_slide.mitigation"))},model:{value:t.model.mitigation,callback:function(e){t.$set(t.model,"mitigation",e)},expression:"model.mitigation"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.mitigationList"),"label-for":"mitigationList","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"long-arrow-alt-down"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"mitigationList",placeholder:"".concat(t.$t("land_slide.mitigationList"))},model:{value:t.model.mitigationList,callback:function(e){t.$set(t.model,"mitigationList",e)},expression:"model.mitigationList"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.damages"),"label-for":"damages","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"plus"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"damages",placeholder:"".concat(t.$t("land_slide.damages"))},model:{value:t.model.damages,callback:function(e){t.$set(t.model,"damages",e)},expression:"model.damages"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.damagesList"),"label-for":"damagesList","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"plus"}})],1),t._v(" "),e("b-form-input",{attrs:{id:"damagesList",placeholder:"".concat(t.$t("land_slide.damagesList"))},model:{value:t.model.damagesList,callback:function(e){t.$set(t.model,"damagesList",e)},expression:"model.damagesList"}})],1)],1),t._v(" "),e("b-form-group",{staticClass:"label-md-left",attrs:{label:t.$t("land_slide.notes"),"label-for":"notes","label-cols-md":"4","content-cols-md":"8","content-cols-lg":"7"}},[e("b-input-group",[e("b-input-group-prepend",{attrs:{"is-text":""}},[e("font-awesome-icon",{staticClass:"w-1rem",attrs:{icon:"book"}})],1),t._v(" "),e("b-form-textarea",{attrs:{id:"notes",placeholder:"".concat(t.$t("land_slide.notes")),rows:"3","max-rows":"6"},model:{value:t.model.notes,callback:function(e){t.$set(t.model,"notes",e)},expression:"model.notes"}})],1)],1),t._v(" "),e("b-form-group",{class:"label-md-left ".concat((t.id,"")),attrs:{"label-for":"img"}},[e("div",[e("VueFileAgent",{ref:"file",attrs:{accept:"image/*",deletable:!0,meta:!0},model:{value:t.model.image,callback:function(e){t.$set(t.model,"image",e)},expression:"model.image"}})],1)])],1),t._v(" "),e("div",{staticClass:"col-12 col-lg-6"},[e("h1",[t._v("Bản đồ")])])])]),t._v(" "),e("footer",{staticClass:"card-footer bg-white text-center"},[e("b-button",{staticClass:"min-w-100px mx-1",attrs:{variant:"outline-primary",title:"Cancel",disabled:t.loading},on:{click:function(e){return t.$emit("cancel")}}},[e("font-awesome-icon",{attrs:{icon:"arrow-left"}}),t._v("\n        "+t._s(t.$t("common.cancel"))+"\n      ")],1)],1)])]}}])})}),[],!1,null,null,null).exports},computed:{id:function(){return this.$route.params.id}},methods:{goToList:function(){this.$router.push("/land-slide")}}},$=Object(_.a)(w,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-user-edit h-100 p-2rem"},[e("div",{staticClass:"card h-100"},[e("div",{staticClass:"card-header bg-white"},[e("div",{staticClass:"text-primary font-size-1-1rem font-weight-bold"},[e("font-awesome-icon",{attrs:{icon:"pencil-alt"}}),t._v("\n        "+t._s(t.$t("land_slide.detail.detail_land_slide"))+"\n      ")],1)]),t._v(" "),e("div",{staticClass:"card-body p-0"},[e("land-slide-detail-form",{attrs:{id:t.id},on:{modify:t.goToList,cancel:t.goToList}})],1)])])}),[],!1,null,null,null);e.default=$.exports}}]);